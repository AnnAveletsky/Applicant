@model IEnumerable<Applicant.Models.History>
<table class="table table-condensed  table-hover cf" style="margin:0px;">
    <tr class="navbar-default">
        <th></th>
        <th>@Html.DisplayNameFor(model => model.CommunicationDate)</th>
        <th>@Html.DisplayNameFor(model => model.TypeCommunication)</th>
        <th>@Html.DisplayNameFor(model => model.HistoryComments)</th>
        <th></th>
    </tr>
    @foreach (var item in Model)
    {
        <tr>
            <td>
                <a class="btn btn-info btn-sm" href="@Url.Action("Details", "Histories", new { id = item.HistoryId }) ">
                    <i class="glyphicon glyphicon-share-alt">
                    </i>
                </a>
            </td>
            <td>@Html.DisplayFor(modelItem => item.CommunicationDate)</td>
            <td>@Html.DisplayFor(modelItem => item.TypeCommunication)</td>
            <td>
                @if (item.HistoryComments != null && item.HistoryComments.Length > 15)
                {
                    @Html.DisplayFor(modelItem => item.HistoryComments).ToString().Substring(0, 15)
                    <p>...</p>
                }
                else
                {
                    @Html.DisplayFor(modelItem => item.HistoryComments);
                }
            </td>
            <td>
                <a class="btn btn-primary btn-sm" style="margin:1px;" href="@Url.Action("Edit", "Histories", new { id = item.HistoryId })">
                    <i class="glyphicon glyphicon-edit"></i>
                </a>
                <button class="btn btn-danger btn-sm" style="margin:1px;" onclick="delHis(@item.HistoryId)" type="submit" value="Удалить" data-toggle="modal" data-target="#myModal">
                    <i class="glyphicon glyphicon-remove"></i>
                </button>
            </td>
        </tr>
    }
</table>
   <script>
       function delHis(id) {
           $.ajax({
               url: "/Histories/Delete/",
               data: "id=" + id,
               success: function (html) {
                   $("#myModal").empty();
                   $("#myModal").append(html);
               }
           });
       }
</script>
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"></div>
